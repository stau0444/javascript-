<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step04_array.html</title>
</head>
<body>
    <h1>array 테스트 중</h1>
    <input type="text" id="msg" placeholder="할일입력.."/>
    <button onclick="save()">저장하기</button>
    <button onclick="show()">저장된 할일 보기</button>
    <ol id="asd">
    </ol>
    

    <script>
            var count =0;
            var msgs=[];
            //저장 버튼을 누르면 값이 저장되게 하는함수
            function save(){
            //    1.입력한 문자열을 읽어온다
                var line=document.querySelector("#msg").value;   
            //    2,입력한것을 저장한다.
                msgs.push(line);
                alert('저장 되었습니다');
             //    3. 입력창에 저장된 내용이 지워진다.   
                 document.querySelector("#msg").value="";   
                 count=1
            }
            
            //저장된 값을 보이게 하는 함수
            
            function show(){
                
                if(count==1){
                    for(i=0; i<msgs.length; i++){
                        var line=msgs[i]
                        var node = document.createElement("li")
                        var textnode = document.createTextNode(line);
                        node.appendChild(textnode);
                        document.getElementById("asd").appendChild(node)
                        count=0;                    
                }
                 msgs.splice(0,i)
                 /*배열 값을 리셋  이것을안하면 배열의 요소들은 남아 있어서
                    다음번 show함수를 호출할 때 첫번째 저장의 내용이 함께 나온다.*/
                }
       
            }
    </script>    
</body>
</html>

<!-- /반복문의 값이 ol의 li에 하나씩 들어가는 코드 저장을 하고 보여지기를 누르면 
카운터값이 0이 되기때문에 반복문이 멈추고 보여주기를 다시 눌러도 저장된것이 또나오지 않는다 -->